With beam search and uncleaned development data (there may be imbalance in slot order between training and inference):
Using beam search, BLEU score mean is 0.4310298761439489 0.027333518296973367
Using sampling, BLEU score mean is 0.5315435612053904 0.01615880422105561

Two utterances created by sampling from the same MRs:
name[Alimentum], area[city centre], familyFriendly[no], near[Burger King]
Alimentum is a restaurant near the Burger King here in the centre of the city .
Near Burger King in city centre is the adult establishment Alimentum.
0.5716220023135528
------------
name[Alimentum], area[city centre], familyFriendly[no], near[Burger King]
Alimentum is a non-child friendly place in the city centre area near Burger King .
Alimentum is not family-friendly. Alimentum is in the city center and it is near Burger King.
0.6052640699531351
------------
name[Alimentum], area[city centre], familyFriendly[no], near[Burger King]
Alimentum is a place for the whole being peaceful lunch . it is located near Burger King .
Alimentum is not family-friendly, and is near the Burger King in the city centre.
0.44228490161784506

Content sampling examples from the devset:
area[city_centre], customer rating[average], eatType[coffee_shop], familyFriendly[no], food[Chinese], name[Aromi]
Sampled mr customer rating[average], eatType[coffee_shop], name[Aromi]
Aromi is a coffee shop located on the outskirts of the city .
Aromi is an average rated coffee shop that serves Chinese food in the city center
bleu score for the best prediction 0.4509933654585574

From token sampling:

Giraffe is not family-friendly . they provide french food near the city centre . 
Giraffe is a French restaurant near the Raja Indian Cuisine that is not family-friendly and located in the city centre.

Difficult alignments in training data:
mr: name[The Wrestlers], food[English], priceRange[cheap], customer rating[5 out of 5], familyFriendly[yes]
utterance: The Wrestlers, a 5-star, family-friendly restaurant serves local food at low prices.
err: 1
incorrect slots: food
mr: name[The Wrestlers], eatType[coffee shop], food[French], priceRange[more than £30], area[city centre], familyFriendly[yes], near[Raja Indian Cuisine]
utterance: The Wrestlers in a French restaurant near Raja Indian Cuisine in the city centre area. It is a coffee shop with a price range is more than 30.
err: 2
incorrect slots: pricerange, familyfriendly
mr: name[Alimentum], food[Japanese], priceRange[£20-25], customer rating[high], area[riverside], near[Yippee Noodle Bar]
utterance: We are a Japanese restaurant called Alimentum and can be found in the Riverside area of Cambridge, near to the Yippee Noodle Bar.  Our customer rating is high and our average price for a meal is £20-25.  Please come and see what we are all about.
mr: name[Fitzbillies], eatType[coffee shop], food[Italian], priceRange[high], customer rating[average], area[city centre], familyFriendly[yes]
utterance: Fitzbillies is a child friendly Italian coffee shop in the city centre - just don't forget your wallet.
err: 2
incorrect slots: pricerange, customerrating
mr: name[The Eagle], eatType[coffee shop], food[Italian], priceRange[£20-25], customer rating[high], area[city centre], familyFriendly[yes], near[Burger King]
utterance: The Eagle is a children friendly coffee ship in the city centre near Burger King.  It serves Italian food for £20-25 and has a high customer rating.
err: 1
incorrect slots: eattype

BLEU score as a bad metric:
area[riverside], familyFriendly[no], name[Alimentum]
Alimentum is in the riverside area . it is not family-friendly .
Alimentum, located on the river. No good for families.
bleu score for the best prediction 0.39169810229626073

Beam search from uncleaned data:
-------------------------
name[Blue_Spice], eatType[coffee_shop], area[riverside]
Blue Spice is a cheap coffee shop near near_place .
At the riverside, there is a coffee shop called The Blue Spice.
bleu score for the best prediction 0.46983086860839834
-------------------------
name[Blue_Spice], eatType[coffee_shop], near[Crowne_Plaza_Hotel], customer rating[5_out_of_5]
near Crowne Plaza Hotel is a coffee shop called Blue Spice . it has a customer rating of 5 out of 5 .
The coffee shop Blue Spice is based near Crowne Plaza Hotel and has a high customer rating of 5 out of 5.
bleu score for the best prediction 0.8000885572857938

Why beam search gets a low BLEU:
The Punter is an italian restaurant with a price range of 20-25 pounds .
The Punter is a kids friendly restaurant in Riverside near Express by Holiday Inn that serves Italian food for £20-25. It has a high customer rating.
mean bleu 0.21087381973335495

#### NEW RESULTS #####

Beam with no content sampling and uncleaned data
0.488996919492496 0.016417432470891648

Beam with no content sampling and cleaned data

Beam with content sampling and cleaned data